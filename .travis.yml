# Note: we're migrating to using github actions for CI. This file will be deleted soon-ish.
# See .github/workflows
# We do currently still reply on Travis for unit test coverage reporting because of:
# https://github.com/coverallsapp/github-action/issues/30
language: python
matrix:
  allow_failures:
    - os: osx
  include:
    - python: "2.7"
      os: linux
    - python: "3.5"
      os: linux
    - python: "3.6"
      os: linux
    - python: "3.7"
      os: linux
    - python: "3.8"
      os: linux
    - python: "pypy"
      os: linux
    - python: "pypy3.5"
      os: linux

      # Using 'sh' shim
    - python: "2.7"
      env: GITLINT_USE_SH_LIB=0
      os: linux
    - python: "3.7"
      env: GITLINT_USE_SH_LIB=0
      os: linux

install:
  - "pip install -r requirements.txt"
  - "pip install -r test-requirements.txt"
script:
 - "./run_tests.sh"
after_success:
  - coveralls